[
	{
		"name": "$construct",
		"pvardefs": [
			{
				"name": "pOwner",
				"type": "kObjectref",
				"subtype": "oPromiseManager",
				"sublen": 0,
				"param": 1,
				"desc": "An oPromiseManager or oPromise"
			},
			{
				"name": "pTag",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 2
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$destruct",
		"pvardefs": [
			{
				"name": "pPromise",
				"type": "kObjectref",
				"subtype": "",
				"sublen": 0,
				"param": 1
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$then",
		"desc": "Pass a ref to a function to call when this promise is 'fulfilled' or is 'rejected'.\rThe function will receive parameters:\r1) pResults (row)\r2) pExtraParams (row)\r3) pErrorText (char)\r4) pSuccess (boolean)\r\rIf no rejectedCallback method is passed, rejected promises will call the rejected method of subsequent promises in the chain, or else this pFulfilledCalback, passing pErrorText and pSuccess=kFalse.\r\rReturns a new promise, allowing you to chain multiple promises.",
		"pvardefs": [
			{
				"name": "pFulfilledCallback",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0,
				"param": 1,
				"desc": "Item reference to a callback method to call on successful completion. Syntax should be of the form: \"$cinst().$myMethod.$ref\""
			},
			{
				"name": "pRejectedCallback",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0,
				"param": 2,
				"initval": "#NULL",
				"desc": "Item reference to a callback method to call on failure. Syntax should be of the form: \"$cinst().$myMethod.$ref\""
			},
			{
				"name": "pExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 3,
				"initval": "#NULL",
				"desc": "A row of extra params to pass to the 'then' function (will be the second param)"
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$thenPushToClient",
		"pvardefs": [
			{
				"name": "pFormInst",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0,
				"param": 1
			},
			{
				"name": "pPushID",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 2
			},
			{
				"name": "pExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 3
			},
			{
				"name": "pPushErrorID",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 4,
				"initval": "\"ERROR\""
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$catch",
		"desc": "This is equivalent to $then(#NULL,pCallback).\rIt is provided as 'syntactic sugar' - to aid readability.",
		"pvardefs": [
			{
				"name": "pCallback",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0,
				"param": 1,
				"desc": "Item reference to a callback method. Syntax should be of the form: \"$cinst().$myMethod.$ref\""
			},
			{
				"name": "pExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 2,
				"desc": "A row of extra params to pass to the 'then' function (will be the second param)"
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$resolve",
		"desc": "Resolve this promise, calling its 'then' function.",
		"pvardefs": [
			{
				"name": "pResults",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 1
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$reject",
		"desc": "Reject this promise, calling its 'catch' function.",
		"pvardefs": [
			{
				"name": "pResults",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 1
			},
			{
				"name": "pErrorText",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 2
			}
		],
		"lvardefs": [
			{
				"name": "lRejectCallback",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0,
				"initval": "#NULL"
			}
		]
	},
	{
		"name": "$attachToWorker",
		"desc": "Attaches this promise to the given worker object as its $callbackinst.\r\rUses a simple generic $completed handler, to just pass the given results row through to the 'then()' method.\rIt will never fail, so should not be used for non-trivial situations.",
		"pvardefs": [
			{
				"name": "pWorker",
				"type": "kObjectref",
				"subtype": "",
				"sublen": 0,
				"param": 1
			},
			{
				"name": "pKeepRef",
				"type": "kBoolean",
				"subtype": 0,
				"sublen": 0,
				"param": 2,
				"initval": "kTrue"
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$cancel",
		"desc": "Cancel this promise and any prior promises up the chain.",
		"pvardefs": [

		],
		"lvardefs": [

		]
	},
	{
		"name": "-- INTERNAL --",
		"pvardefs": [

		],
		"lvardefs": [

		],
		"empty": true
	},
	{
		"name": "$completed",
		"pvardefs": [
			{
				"name": "pResults",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 1
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$destroy",
		"pvardefs": [
			{
				"name": "pDestroyChain",
				"type": "kBoolean",
				"subtype": 0,
				"sublen": 0,
				"param": 1,
				"initval": "kFalse"
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$deletePromise",
		"pvardefs": [
			{
				"name": "pPromise",
				"type": "kObjectref",
				"subtype": "",
				"sublen": 0,
				"param": 1
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$_resolveNextPromise",
		"pvardefs": [
			{
				"name": "pResults",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 1
			},
			{
				"name": "pExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 2
			},
			{
				"name": "pErrorText",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 3
			},
			{
				"name": "pSuccess",
				"type": "kBoolean",
				"subtype": 0,
				"sublen": 0,
				"param": 4
			}
		],
		"lvardefs": [

		]
	},
	{
		"name": "$hasPendingChain",
		"desc": "Returns true if there is another promise pending anywhere in the chain after this one.",
		"pvardefs": [

		],
		"lvardefs": [

		]
	},
	{
		"name": "$_findRejectHandler",
		"pvardefs": [

		],
		"lvardefs": [
			{
				"name": "lRef",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0
			}
		]
	},
	{
		"name": "$_doPushToClient",
		"pvardefs": [
			{
				"name": "pResults",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 1
			},
			{
				"name": "pExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0,
				"param": 2
			},
			{
				"name": "pErrorText",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000,
				"param": 3
			},
			{
				"name": "pSuccess",
				"type": "kBoolean",
				"subtype": 0,
				"sublen": 0,
				"param": 4
			}
		],
		"lvardefs": [
			{
				"name": "lExtraParams",
				"type": "kRow",
				"subtype": "",
				"sublen": 0
			},
			{
				"name": "lFormInst",
				"type": "kItemref",
				"subtype": "",
				"sublen": 0
			},
			{
				"name": "lRejectPushID",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000
			},
			{
				"name": "lResolvePushID",
				"type": "kCharacter",
				"subtype": "kSimplechar",
				"sublen": 100000000
			},
			{
				"name": "lRow",
				"type": "kRow",
				"subtype": "",
				"sublen": 0
			}
		]
	}
]
